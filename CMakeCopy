cmake_minimum_required(VERSION 3.6)
project(ex4)

set(core_sockets sockets/Socket.cpp sockets/Udp.cpp)

set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11")

add_library(sockets ${core_sockets})
add_subdirectory(lib/googletest-master)
include_directories(lib/googletest-master/googletest/include)


set(SOURCE_FILES main.cpp Point.cpp Point.h
        Node.cpp Node.h Grid.cpp Grid.h Graph.cpp Graph.h Driver.cpp Driver.h
        TripInformation.cpp TripInformation.h Cab.cpp Cab.h LuxuryCab.cpp
        LuxuryCab.h Passenger.cpp Passenger.h TaxiCenter.cpp TaxiCenter.h
        MainFlowtxt.txt MainFlow.h BFS.cpp BFS.h test/BFSTest.cpp
        test/BasicCabTest.cpp test/DriverTest.cpp test/GridTest.cpp
        test/MainFlowTest.cpp test/NodeTest.cpp test/PassengerTest.cpp
        test/PointTest.cpp test/TaxiCenterTest.cpp test/TripInformationTest.cpp
        BasicCab.h BasicCab.cpp MainFlow.cpp Client.cpp Server.cpp
        sockets/Socket.cpp sockets/Socket.h sockets/Udp.cpp sockets/Udp.h)
add_executable(ex4 ${SOURCE_FILES} test/BFSTest.cpp test/BasicCabTest.cpp/
        test/DriverTest.cpp test/GridTest.cpp test/MainFlowTest.cpp
        test/NodeTest.cpp test/PassengerTest.cpp test/PointTest.cpp
        test/TaxiCenterTest.cpp test/TripInformationTest.cpp
        test/BasicCabTest.cpp MainFlow.cpp)
add_executable(server Server.cpp)
add_executable(client Client.cpp)

target_link_libraries(server sockets)
target_link_libraries(client sockets)